/*π” 2. ν¬μΈν„° μ‹¬ν™” β€” κ°λ… μ •λ¦¬ & μ‹¤μµ λ¬Έμ 
β… ν•™μµ λ©ν‘
ν¬μΈν„°μ λ‹¤μ–‘ν• ν•νƒμ™€ μ°¨μ΄ μ΄ν•΄

ν•¨μ ν¬μΈν„°, λ‹¤μ¤‘ ν¬μΈν„°, λ°°μ—΄κ³Ό ν¬μΈν„° μ°¨μ΄

constμ™€ void ν¬μΈν„°μ ν™μ©*/

// ν¬μΈν„° ν•λ³€ν™ cast :  (int *)ptr 
// ν¬μΈν„°                int *ptr
// λ°°μ—΄ ν¬μΈν„°           int (*ptr)[3]
// ν¬μΈν„° λ°°μ—΄           int *ptr[3]
// ν•¨μ                  int        add(int a, int b)  - λ§¤κ°λ³€μμ μ΄λ¦„ ν•„μ”
// ν•¨μ ν¬μΈν„°           int (*funcPtr)(int, int)       - λ§¤κ°λ³€μμ νƒ€μ…λ§ μ•λ©΄ λ¨.
//                      ν•¨μμ μ£Όμ†λ¥Ό ν•¨μ ν¬μΈν„°λ΅ μ„ μ–Έ. μƒλ΅μ΄ ν•¨μλ¥Ό μ •μν•λ” κ²ƒμ΄ μ•„λ‹,
//                      μ΄λ―Έ μ •μλ ν•¨μμ μ£Όμ†λ¥Ό μ €μ¥ν•κ³ , κ·Έ ν•¨μλ¥Ό κ°„μ ‘μ μΌλ΅ νΈμ¶ν•κΈ° μ„ν• λ„κµ¬
//                      ν•¨μμ μ΄λ¦„ν‘ νΉμ€ λ¦¬λ¨μ»¨ μ—­ν• . ν•¨μ μ΄λ¦„ μ¬μ •μ, λ³„λ….
//  ν™μ©1: ν•¨μμ—μ„ λ‹¤λ¥Έ ν•¨μλ¥Ό λ³€μλ΅ μ…λ ¥ν• λ• μ μ©. void operate(int x, int y, int (*func)(int, int)) { };
//  ν™μ©2: μ „μ—­μΌλ΅ ν•¨μ ν¬μΈν„° μ„ μ–Έ. int (*global_fp)(int, int);
//  ν™μ©3: λ°°μ—΄μ— ν•¨μ ν¬μΈν„° λ„£κΈ° - κ°„λ‹¨ν• λ©”λ‰΄ μ‹μ¤ν… κ°™μ€ λ° μ“°μ„. int (*ops[2])(int, int) = {add, sub};

// λ©”λ¨λ¦¬μ—λ” "μ£Όμ† -> κ°’" ν•νƒλ΅ μ €μ¥λ¨.
// ν¬μΈν„°λ„ κµ¬μ΅° λ™μΌ. λ‹¨μ§€, κ°’μ— "μ£Όμ†"κ°€ μ €μ¥λμ–΄ μμ.


#include <stdio.h>

int add(int a, int b){
    return a + b;
};

int main() {
    // 1οΈβƒ£ λ°°μ—΄ vs ν¬μΈν„°
    int arr[3] = {1, 2, 3};
    int *p = arr;

    // arr[1] == *(arr + 1) == p[1] == *(p + 1);


    // 2οΈβƒ£ ν¬μΈν„° λ°°μ—΄ vs λ°°μ—΄ ν¬μΈν„°
    // ν¬μΈν„° λ°°μ—΄: κ° μ”μ†κ°€ intν• ν¬μΈν„°λ¥Ό κ°€λ¦¬ν‚¤λ” λ°°μ—΄.    {ν¬μΈν„°, ν¬μΈν„°, ν¬μΈν„°}
    int *ptrArr[3]; 

    // λ°°μ—΄ ν¬μΈν„° : λ°°μ—΄ μ „μ²΄λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„°.               ν¬μΈν„°
    int (*pArr)[3] = &arr;  // &arr  vs  arr(=&arr[0])
                            // &arr: λ°°μ—΄ μ „μ²΄λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„° 
                            // arr : λ°°μ—΄μ μ²«λ²μ§Έ μ”μ†λ¥Ό κ°€λ¦¬ν‚¤λ” ν¬μΈν„° 

    
    // 3οΈβƒ£ ν•¨μ ν¬μΈν„°
    int (*funcPtr)(int, int) = add; // ν•¨μ ν¬μΈν„° μ„ μ–Έ λ° μ΄κΈ°ν™”
    //or
    int (*funcPtr)(int, int);   // ν•¨μ ν¬μΈν„° μ„ μ–Έ
    funcPtr = add;              // ν•¨μ ν¬μΈν„° μ΄κΈ°ν™”

    int result = funcPtr(3, 4);
    printf("result: &d\n", result);


    // 4οΈβƒ£ λ‹¤μ¤‘ ν¬μΈν„° (ν¬μΈν„°μ ν¬μΈν„°)
    //  address   address   value
    //             &x        x(=10)
    //    &p        p        *p
    //    pp       *pp       **pp
    
    int x = 10;         
    int *p = &x;
    int **pp = &p; // μ΄κ±Έ ν™μ©ν•λ©΄ ν¬μΈν„° pμ— κ°„μ„­ν•  μ μμ. μμ€ λ¨λ¥΄κ² λ‹¤.



    // 5οΈβƒ£ void ν¬μΈν„° (ν•λ³€ν™(cast) ν•΄μ„ μ¨μ•Ό ν•¨)
    void *vp;
    int n = 5;
    vp = &n; // void ν¬μΈν„°μ— intν• λ³€μ μ£Όμ† μ €μ¥
    printf("Value: %d\n", *(int *)vp); // void ν¬μΈν„°λ¥Ό int ν¬μΈν„°λ΅ ν•λ³€ν™ ν›„ μ‚¬μ©


    // 6οΈβƒ£ const ν¬μΈν„° = μ½κΈ°μ „μ©. μ„μΉ: const νƒ€μ… const λ³€μμ΄λ¦„
    //                   κ²½μ°μ— λ”°λΌ μ΄κΈ°κ°’μ΄ ν•„μ”ν•¨. const int x = 5;, int * const p2 = &x;
    //                   const int x = 5; == int const x = 5; λ™μΌν• κ²°κ³Ό.
    
    const int *p1; // β… ν¬μΈν„° p1μ€ λ‹¤λ¥Έ μ£Όμ†λ¥Ό κ°€λ¦¬ν‚¬ μ μλ‹¤. p1  = &... κ°€λ¥
                   // β λ‹¨, *p1 = κ°’; μ€ κΈμ§€ (μ½κΈ° μ „μ© κ°’)   *p1 = ...  λ¶κ°€λ¥ (intκ°’ λ»λ°”κΎΌλ‹¤)
    int *const p2;  // β… p2λ” μ£Όμ† κ³ μ •, *p2 κ°’μ€ λ³€κ²½ κ°€λ¥    p2 = &... λ¶κ°€λ¥ (ν¬μΈνΈ λ»λ°”κΎΌλ‹¤)
                    //                                         *p2 = ...  κ°€λ¥
    const int *const p3; // λ‘ λ‹¤ λ³€κ²½ λ¶κ°€λ¥, constλ¥Ό μ–΄λ””μ— μ μ–΄μ•Όν•λ”μ§€ μ„μΉ μ£Όμ. 









    return 0;
}



